{% extends 'main.html' %} 
{% load static %}
{% load dictionary_extras %}

{% block content %}

<div class="single-word-container">
  <!-- Breadcrumb Navigation -->
  <nav aria-label="breadcrumb" class="breadcrumb-nav">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
      <li class="breadcrumb-item"><a href="{% url 'words' %}">Dictionary</a></li>
      <li class="breadcrumb-item active" aria-current="page">{{ single_words.word }}</li>
    </ol>
  </nav>

  <div class="word-card">
    <div class="word-header">
      <h2>{{ single_words.word }}</h2>
      {% if single_words.pronunciation %}
        <i class="fas fa-volume-up volume-icon" data-audio="{{ single_words.pronunciation.url }}" title="Play pronunciation"></i>
      {% else %}
        <i class="fas fa-volume-up volume-icon" title="Pronunciation not available"></i>
      {% endif %}
    </div>

    {% for meaning in single_words.meanings.all %}
      <div class="part-of-speech">{{ meaning.part_of_speech.name }}</div>
      <div class="word-meaning">{{ meaning.meaning }}</div>

      <p class="example-heading">Example:</p>
      {% for example in meaning.examples.all %}
        <div class="word-example">
          <p><span class="igala-word">{{ example.igala_example }}</span></p>
          <p>{{ example.english_meaning }}</p>
        </div>
      {% endfor %}
    {% endfor %}

    {% if single_words.related_terms %}
      <div class="related-terms-section">
        <p class="example-heading">Related terms:</p>
        <p class="related-terms-list">{% related_terms_html single_words.related_terms %}</p>
      </div>
    {% endif %}
  </div>
</div>
{% endblock content %}
